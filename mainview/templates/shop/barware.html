{% extends 'base.html' %}
{% block content %}
<!-- ##### Breadcrumb Area Start ##### -->
<div class="breadcrumb-area">
    <!-- Top Breadcrumb Area -->
    <div class="top-breadcrumb-area bg-img bg-overlay d-flex align-items-center justify-content-center"
        style="background-image: url(img/bg-img/24.jpg);">
        <h2>Shop</h2>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-12">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="#"><i class="fa fa-home"></i> Home</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Shop</li>
                    </ol>
                </nav>
            </div>
        </div>
    </div>
</div>
<!-- ##### Breadcrumb Area End ##### -->

<!-- ##### Shop Area Start ##### -->
<section class="shop-page section-padding-0-100">
    <div class="container">
        <div class="row">
            <!-- Shop Sorting Data -->
            <div class="col-12">
                <div class="shop-sorting-data d-flex flex-wrap align-items-center justify-content-between">
                    <!-- Shop Page Count -->
                    <div class="shop-page-count">
                        <h3>Showing {{ all_items.end_index }} of {{ all_items.paginator.count }} results</h3>
                    </div>
                    <!-- Search by Terms -->

                </div>
            </div>
        </div>

        <div class="row">
            <!-- Sidebar Area -->
            <div class="col-12 col-md-4 col-lg-3">
                <div class="shop-sidebar-area">

                  

                    <!-- Shop Widget -->
                    <div class="shop-widget catagory mb-50">
                        <h4 class="widget-title">Categories</h4>
                        <div class="widget-desc">
                            <!-- Single Checkbox -->
                            <div class="custom-control custom-checkbox d-flex align-items-center mb-2">
                                <input type="checkbox" class="custom-control-input" id="customCheck1">
                                <label class="custom-control-label" for="customCheck1">All plants <span
                                        class="text-muted">(72)</span></label>
                            </div>
                            <!-- Single Checkbox -->
                            <div class="custom-control custom-checkbox d-flex align-items-center mb-2">
                                <input type="checkbox" class="custom-control-input" id="customCheck2">
                                <label class="custom-control-label" for="customCheck2">Outdoor plants <span
                                        class="text-muted">(20)</span></label>
                            </div>
                            <!-- Single Checkbox -->
                            <div class="custom-control custom-checkbox d-flex align-items-center mb-2">
                                <input type="checkbox" class="custom-control-input" id="customCheck3">
                                <label class="custom-control-label" for="customCheck3">Indoor plants <span
                                        class="text-muted">(15)</span></label>
                            </div>
                            <!-- Single Checkbox -->
                            <div class="custom-control custom-checkbox d-flex align-items-center mb-2">
                                <input type="checkbox" class="custom-control-input" id="customCheck4">
                                <label class="custom-control-label" for="customCheck4">Office Plants <span
                                        class="text-muted">(20)</span></label>
                            </div>
                            <!-- Single Checkbox -->
                            <div class="custom-control custom-checkbox d-flex align-items-center mb-2">
                                <input type="checkbox" class="custom-control-input" id="customCheck5">
                                <label class="custom-control-label" for="customCheck5">Potted <span
                                        class="text-muted">(15)</span></label>
                            </div>
                            <!-- Single Checkbox -->
                            <div class="custom-control custom-checkbox d-flex align-items-center mb-2">
                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                <label class="custom-control-label" for="customCheck6">Others <span
                                        class="text-muted">(2)</span></label>
                            </div>
                        </div>
                    </div>

                   

                    <!-- Shop Widget -->
                    <div class="shop-widget best-seller mb-50">
                        <h4 class="widget-title">Best Seller</h4>
                        <div class="widget-desc">

                            <!-- Single Best Seller Products -->
                            <div class="single-best-seller-product d-flex align-items-center">
                                <div class="product-thumbnail">
                                    <a href="shop-details.html"><img src="img/bg-img/4.jpg" alt=""></a>
                                </div>
                                <div class="product-info">
                                    <a href="shop-details.html">Cactus Flower</a>
                                    <p>$10.99</p>
                                    <div class="ratings">
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                    </div>
                                </div>
                            </div>

                            <!-- Single Best Seller Products -->
                            <div class="single-best-seller-product d-flex align-items-center">
                                <div class="product-thumbnail">
                                    <a href="shop-details.html"><img src="img/bg-img/5.jpg" alt=""></a>
                                </div>
                                <div class="product-info">
                                    <a href="shop-details.html">Tulip Flower</a>
                                    <p>$11.99</p>
                                    <div class="ratings">
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                    </div>
                                </div>
                            </div>

                            <!-- Single Best Seller Products -->
                            <div class="single-best-seller-product d-flex align-items-center">
                                <div class="product-thumbnail">
                                    <a href="shop-details.html"><img src="img/bg-img/34.jpg" alt=""></a>
                                </div>
                                <div class="product-info">
                                    <a href="shop-details.html">Recuerdos Plant</a>
                                    <p>$9.99</p>
                                    <div class="ratings">
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

            <!-- All Products Area -->
            <div class="col-12 col-md-8 col-lg-9">
                <div class="shop-products-area">
                    <div class="row">
                        {% for item in all_items %}
                        <!-- Single Product Area -->
                        <div class="col-12 col-sm-6 col-lg-4">
                            <div class="single-product-area mb-50">
                                <!-- Product Image -->
                                <div class="product-img">
                                    <a href="/products/{{ item.item_id }}"><img src="/media/{{item.item_image}}" alt=""></a>
                                    <!-- Product Tag -->
                                    <div class="product-tag">
                                        <a href="#">Hot</a>
                                    </div>
                                    <div class="product-meta d-flex">
                                        <a href="/cart/" class="cart-btn"><i class="fa fa-shopping-cart"></i></a>
                                        <a  href="#" id="btn{{ item.item_id }}" class="add-to-cart-btn cart">Add to
                                            cart</a>
                                        <a href="#" class="del"><i class="icon_close"></i></a>
                                    </div>
                                </div>
                                <!-- Product Info -->
                                <div class="product-info mt-15 text-center">
                                    <a href="shop-details.html">
                                        <p>{{ item.item_title }}</p>
                                    </a>
                                    <h6>{{ item.item_id }}</h6>
                                </div>
                            </div>
                        </div>
                        {% endfor %}



                        <!-- Pagination -->
                        <div class="container">
                            <nav aria-label="Page navigation">

                                {% if all_items.has_other_pages %}
                                <ul class="pagination">
                                    {% if all_items.has_previous %}
                                    <li class="page-item"><a class="page-link"
                                            href='?page={{ all_items.previous_page_number }}'>&laquo;</a></li>
                                    {% else %}
                                    <li class="page-item disabled"><a class="page-link" href="#"><i
                                                class="fa fa-angle-left"></i></a></li>
                                    {% endif %}
                                    <!-- <li class="page-item"><a class="page-link" href="#">1</a></li> -->
                                    {% for num in all_items.paginator.page_range %}
                                    {% ifequal num all_items.number %}
                                    <li class="page-item disabled"><a class="page-link" href="#">{{ num }}<span
                                                class="sr-only">(current)</span></a></li>
                                    {% else %}
                                    <li class="page-item"><a class="page-link" href="?page={{ num }}">{{ num }}</a></li>
                                    {% endifequal %}
                                    {% endfor %}
                                    {% if all_items.has_next %}
                                    <li class="page-item"><a class="page-link"
                                            href="?page={{ all_items.next_page_number }}"><i
                                                class="fa fa-angle-right"></i></a></li>
                                    {% else %}
                                    <li class="page-item disabled"><a class="page-link" href="#"><i
                                                class="fa fa-angle-right"></i></a></li>
                                    {% endif %}
                                </ul>
                                {% endif %}
                                <!-- <li class="page-item"><a class="page-link" href="#"></a></li> -->

                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
</section>
<!-- ##### Shop Area End ##### -->


{% endblock %}
{% block js %}
<script>
   
    var cart = {};



    $('.cart').click(function addCart() {
        console.log("clicked")
        var idstr = this.id.toString();

        if (cart[idstr] != undefined) {
            cart[idstr];
            $("#"+idstr).html("Item Added")
            $("#"+idstr).attr("disabled" , true)
            saveCart();
        }
        else {
            cart[idstr] = 1; 
            saveCart();

        }
       
        // console.log(Object.keys('cart'))
       

    });
        $('.del').click(function delItem(){
            var ids = this.id.toString();
            console.log("del is click")
            delete cart[ids];
            $("#"+ids).html("Add to Cart")
            saveCart();


        })
    
        function saveCart(){
            localStorage.setItem('cart', JSON.stringify(cart));
        }

    


</script>



{% endblock %}